<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset = "UTF-8">
  <title>onemoa</title>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="/onemoa/js/onemoa.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="/onemoa/css/onemoa.css" rel="stylesheet">
  <script src="/onemoa/js/login.js"></script>
  <style>
    #noticeList {
        height: auto;
        min-height: 100%;
        padding-bottom: 300px;
    }
    footer {
        height: 300px;
        position: relative;
        transform: translateY(-100%);
    }
  </style>
</head>
<body style="overflow-x: hidden">

<div data-th-replace="/fragments/nav.html :: fragment-nav"></div>

<main id="noticeList">

  <div><img id="noticeBanner" src="../img/contestbg.png" alt=""></div>
  <div id="underBanner"></div>
  <h1 style="text-align: center;">공지사항</h1>
  <div class="container">
      <table class="table">
        <thead>
         <tr>
           <th>No</th>
           <th>제목</th>
           <th>작성자</th>
           <th>등록일</th>
         </tr>
        </thead>
        <tbody>
         <tr data-th-each="notice, state : ${notices}">
<!--          <td th:utext="${state.count}">3</td>-->
          <td data-th-text="${notice.no}">3</td>
          <td>
            <a href='detail?no=1'
              data-th-href="@{detail(no=${notice.no})}"
              data-th-text="${notice.title == ''} ? '(제목없음)' : ${notice.title}">제목</a>  
          </td>
          <td>관리자</td>
          <td data-th-text="${notice.createdDate}">등록일</td>
          <!-- 수정/삭제 버튼  -->
         </tr>
        </tbody>
      </table>
<!--      <button type="button" class="btn btn-primary btn-sm" id="backToMain"><a href="./form">새 글</a></button>-->
      <button type="button" class="btn btn-primary btn-sm" id="backToMain"><a href="/onemoa/">메인으로 돌아가기</a></button>
    <!-- 페이징 -->
    <ul class="pagination justify-content-center">
      <li class="page-item disabled" th:if="${pageMaker.prev}">
        <a class="page-link"
           th:href="@{list(pageMaker.startPage-1)}" aria-label="Previous">
          <span aria-hidden="true">이전페이지</span>
        </a>
      </li>
      <th:block th:each="pageNum: ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
        <li class="page-item">
          <a class="page-link" th:href="@{list(page=${pageNum})}"><i th:text="${pageNum}"></i></a>
        </li>
      </th:block>
      <li class="page-item" th:if="${pageMaker.next && pageMaker.endPage >0}">
        <a class="page-link" th:href="@{list(page=${pageMaker.endPage+1})}" aria-label="Next">
          <span aria-hidden="true">다음페이지</span>
        </a>
      </li>
    </ul>
  </div>
</main>

<footer data-th-replace="/fragments/footer.html :: fragment-footer"></footer>

</body>
</html>
